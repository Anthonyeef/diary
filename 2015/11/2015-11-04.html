<!DOCTYPE html><!--[if lte IE 8]>
<html lang="en" class="lte-ie8">
<![endif]-->
<!--[if gt IE 8]><!-->
<html lang="en">
<!--<![endif]--><head><meta charset="utf-8"><title>November 4, 2015</title><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/diary/styles/global.css"><link rel="stylesheet" href="/diary/styles/tomorrow.css"><link rel="stylesheet" href="/diary/styles/diary.css"><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-59628523-1', 'auto');
ga('send', 'pageview');</script></head><body><header class="header"><div class="index"><a href="/diary/">Index</a></div><h1>November 4, 2015</h1></header><div class="content"><div class="diary"><h2 id="android">Android</h2>
<h3 id="-adding-floatingactionbutton-behavior-https-guides-codepath-com-android-floating-action-buttons-"><a href="https://guides.codepath.com/android/floating-action-buttons">Adding FloatingActionButton behavior</a></h3>
<ul>
<li><code>Coordinatelayout</code> needed to add <code>fab</code> fade in &amp; out animations.</li>
<li>Create custom behavior extends from <code>FloatingActionButton.Behavior</code>, add:</li>
</ul>
<pre><code class="lang-Java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ScrollAwareFABBehavior</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">FloatingActionButton</span>.<span class="hljs-title">Behavior</span></span>{

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">ScrollAwareFABBehavior</span><span class="hljs-params">(Context context, AttributeSet attrs)</span> </span>{
        <span class="hljs-keyword">super</span>();
    }
    <span class="hljs-annotation">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">onStartNestedScroll</span><span class="hljs-params">(CoordinatorLayout coordinatorLayout,
                                       FloatingActionButton child, View directTargetChild,
                                       View target, <span class="hljs-keyword">int</span> nestedScrollAxes)</span> </span>{
        <span class="hljs-keyword">return</span> nestedScrollAxes == ViewCompat.SCROLL_AXIS_VERTICAL ||
                <span class="hljs-keyword">super</span>.onStartNestedScroll(coordinatorLayout, child, directTargetChild, target,
                        nestedScrollAxes);
    }

    <span class="hljs-annotation">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onNestedScroll</span><span class="hljs-params">(CoordinatorLayout coordinatorLayout, FloatingActionButton child,
                               View target, <span class="hljs-keyword">int</span> dxConsumed, <span class="hljs-keyword">int</span> dyConsunmed, <span class="hljs-keyword">int</span> dxUnconsumed,
                               <span class="hljs-keyword">int</span> dyUnconsumed)</span> </span>{
        <span class="hljs-keyword">if</span> (dyConsunmed &gt; <span class="hljs-number">0</span> &amp;&amp; child.getVisibility() == View.VISIBLE) {
            child.hide();
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (dyConsunmed &lt; <span class="hljs-number">0</span> &amp;&amp; child.getVisibility() != View.VISIBLE) {
            child.show();
        }
    }
}
</code></pre>
<ul>
<li>There is also other usage of <code>fab</code> within the link.</li>
</ul>
<h3 id="-control-of-fab-and-layout-https-mzgreen-github-io-2015-06-23-how-to-hideshow-toolbar-when-list-is-scrolling-part3-"><a href="https://mzgreen.github.io/2015/06/23/How-to-hideshow-Toolbar-when-list-is-scrolling(part3">Control of fab and layout</a>/)</h3>
<p>This post better illustrate the specific code.</p>
<ul>
<li><code>app:layout_scrollFlags=&quot;scroll|enterAlways&quot;</code> will set the collaping Toolbar.</li>
</ul>
<h3 id="change-the-distance-in-textview">Change the distance in TextView</h3>
<p>Chinese charactors looks too close to each other in a simple <code>TextView</code>, and there is a way to increase the distance:</p>
<pre><code class="lang-Java">android:lineSpacingMultiplier = <span class="hljs-string">"1.2"</span>
</code></pre>
</div></div><footer class="footer"><address class="author">Copyright &copy;<a rel="author" href="https://github.com/anthonyeef" class="author-name">Yifen Wu</a>-<a href="https://github.com/Anthonyeef/diary-for-daily-reading" class="source-repo">Source</a></address><p>Generated by<a href="https://github.com/joyeecheung/diary" class="site-repo">Joyee Cheung&#39;s diary generator</a></p></footer></body></html>